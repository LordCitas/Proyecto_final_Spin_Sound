{% extends 'base.html.twig' %}

{% block title %}Spin&Sound{% endblock %}

{% block javascripts %}
    {{ parent() }}
{% endblock %}

{% block body %}
    <main class="flex-1">
        <section class="relative bg-cover bg-center" style="background-image: linear-gradient(to top, rgba(11, 15, 19, 0.8), rgba(11, 15, 19, 0) 50%), url('{{ asset('img/fotoHero.jpg') }}');">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex min-h-[60vh] max-w-2xl flex-col items-start justify-center text-left">
                    <h1 class="text-4xl font-bold leading-tight tracking-tighter text-white sm:text-5xl lg:text-6xl">Descubre el mundo de la música en Spin&Sound</h1>
                    <p class="mt-4 text-lg text-on-surface-dark/80">Encuentra los mejores vinilos, merchandising y productos musicales para los amantes de la música.</p>
                    <a href="{{ path('app_vinilo_index') }}" style="background-color: #e00000;" class="mt-8 inline-flex items-center justify-center rounded-full bg-primary px-8 py-3 text-base font-bold text-white shadow-lg transition-transform hover:scale-105">
                        <span>Ver productos</span>
                    </a>
                </div>
            </div>
        </section>
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16">
            <section>
                <h2 class="text-3xl font-bold tracking-tight">Novedades</h2>
                <div class="mt-8 grid grid-cols-1 gap-x-6 gap-y-10 sm:grid-cols-2 lg:grid-cols-3 xl:gap-x-8">
                    {# Bucle para novedades: reemplaza tarjetas estáticas #}
                    {% for vinilo in novedades %}
                        <div class="group relative">
                            <div class="aspect-square w-full overflow-hidden rounded-lg bg-surface-light dark:bg-surface-dark group-hover:opacity-75">
                                {% if vinilo.imagen %}
                                    <img alt="{{ vinilo.titulo }}" class="h-full w-full object-cover object-center" src="{{ vinilo.imagen }}"/>
                                {% else %}
                                    <div class="flex h-full w-full items-center justify-center">
                                        <svg fill="currentColor" class="h-16 w-16 text-on-surface-muted-dark" viewBox="0 0 256 256">
                                            <path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm40-96a40,40,0,1,1-40-40A40,40,0,0,1,168,120Zm-16,0a24,24,0,1,0-24,24A24,24,0,0,0,152,120Z"/>
                                        </svg>
                                    </div>
                                {% endif %}
                            </div>
                            <div class="mt-4">
                                <h3 class="text-base font-semibold text-on-surface-light dark:text-on-surface-dark">
                                    <a href="{{ path('app_vinilo_show', {id: vinilo.id}) }}"> <span aria-hidden="true" class="absolute inset-0"></span> {{ vinilo.titulo }} </a>
                                </h3>
                                <p class="mt-1 text-sm text-on-surface-muted-light dark:text-on-surface-muted-dark">
                                    {% if vinilo.artistas.first %}
                                        {{ vinilo.artistas.first.nombre }}
                                    {% else %}
                                        Artista desconocido
                                    {% endif %}
                                </p>
                            </div>
                        </div>
                    {% else %}
                        <p class="text-sm text-on-surface-muted-light dark:text-on-surface-muted-dark">No hay novedades por mostrar.</p>
                    {% endfor %}
                </div>
            </section>
            <section class="mt-16">
                <h2 class="text-3xl font-bold tracking-tight">Ofertas destacadas</h2>
                <div class="mt-8 grid grid-cols-2 gap-x-6 gap-y-10 sm:grid-cols-2 lg:grid-cols-4 xl:gap-x-8">
                    {# Bucle para ofertas: reemplaza tarjetas estáticas #}
                    {% for vinilo in ofertas %}
                        <div class="group relative">
                            <div class="aspect-square w-full overflow-hidden rounded-lg bg-surface-light dark:bg-surface-dark group-hover:opacity-75">
                                {% if vinilo.imagen %}
                                    <img alt="{{ vinilo.titulo }}" class="h-full w-full object-cover object-center" src="{{ vinilo.imagen }}"/>
                                {% else %}
                                    <div class="flex h-full w-full items-center justify-center">
                                        <svg fill="currentColor" class="h-16 w-16 text-on-surface-muted-dark" viewBox="0 0 256 256">
                                            <path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm40-96a40,40,0,1,1-40-40A40,40,0,0,1,168,120Zm-16,0a24,24,0,1,0-24,24A24,24,0,0,0,152,120Z"/>
                                        </svg>
                                    </div>
                                {% endif %}
                            </div>
                            <div class="mt-4">
                                <h3 class="text-sm font-medium text-on-surface-light dark:text-on-surface-dark">
                                    <a href="{{ path('app_vinilo_show', {id: vinilo.id}) }}"> <span aria-hidden="true" class="absolute inset-0"></span> {{ vinilo.titulo }} </a>
                                </h3>
                                <p class="mt-1 text-sm text-on-surface-muted-light dark:text-on-surface-muted-dark">
                                    {% if vinilo.artistas.first %}
                                        {{ vinilo.artistas.first.nombre }}
                                    {% else %}
                                        Artista desconocido
                                    {% endif %}
                                </p>
                            </div>
                        </div>
                    {% else %}
                        <p class="text-sm text-on-surface-muted-light dark:text-on-surface-muted-dark">No hay ofertas por mostrar.</p>
                    {% endfor %}
                </div>
            </section>
        </div>
    </main>
{% endblock %}
