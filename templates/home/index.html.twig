{% extends 'base.html.twig' %}

{% block title %}Spin&Sound{% endblock %}

{% block javascripts %}
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin href="https://fonts.gstatic.com/" rel="preconnect" />
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&amp;display=swap" rel="stylesheet" />
    <script>document.documentElement.classList.add('dark');</script>
    <script src="https://cdn.tailwindcss.com?plugins=container-queries"></script>
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              primary: "#cf6329",
              secondary: "#f88931",
              "background-light": "#cca983",
              "background-dark": "#0b0f13",
              "surface-light": "#f8f6f6",
              "surface-dark": "#1a1f23",
              "on-surface-light": "#0b0f13",
              "on-surface-dark": "#f8f6f6",
              "on-surface-muted-light": "#5c5f62",
              "on-surface-muted-dark": "#a9aeb2",
            },
            fontFamily: {
              display: ["Space Grotesk", "sans-serif"],
            },
            borderRadius: {
              DEFAULT: "0.5rem",
              lg: "0.75rem",
              xl: "1rem",
              full: "9999px",
            },
          },
        },
      };
    </script>
    {{ importmap('app') }}
{% endblock %}

{% block body %}
    <main class="flex-1">
        <section class="relative bg-cover bg-center" style="background-image: linear-gradient(to top, rgba(11, 15, 19, 0.8), rgba(11, 15, 19, 0) 50%), url('{{ asset('img/fondo-cabecera.jpg') }}');">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex min-h-[60vh] max-w-2xl flex-col items-start justify-center text-left">
                    <h1 class="text-4xl font-bold leading-tight tracking-tighter text-white sm:text-5xl lg:text-6xl">Descubre el mundo de la música en Spin&Sound</h1>
                    <p class="mt-4 text-lg text-on-surface-dark/80">Encuentra los mejores vinilos, merchandising y productos musicales para los amantes de la música.</p>
                    <button class="mt-8 inline-flex items-center justify-center rounded-full bg-primary px-8 py-3 text-base font-bold text-white shadow-lg transition-transform hover:scale-105">
                        <span>Ver productos</span>
                    </button>
                </div>
            </div>
        </section>
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16">
            <section>
                <h2 class="text-3xl font-bold tracking-tight">Novedades</h2>
                <div class="mt-8 grid grid-cols-1 gap-x-6 gap-y-10 sm:grid-cols-2 lg:grid-cols-3 xl:gap-x-8">
                    {# Bucle para novedades: reemplaza tarjetas estáticas #}
                    {% for item in novedades %}
                        <div class="group relative">
                            <div class="aspect-square w-full overflow-hidden rounded-lg bg-surface-light dark:bg-surface-dark group-hover:opacity-75">
                                <img alt="{{ item.title|default('Imagen') }}" class="h-full w-full object-cover object-center" src="{{ item.image is defined ? item.image : asset('img/placeholder.png') }}"/>
                            </div>
                            <div class="mt-4">
                                <h3 class="text-base font-semibold text-on-surface-light dark:text-on-surface-dark">
                                    <a href="{{ item.url|default('#') }}"> <span aria-hidden="true" class="absolute inset-0"></span> {{ item.title|default('Título') }} </a>
                                </h3>
                                <p class="mt-1 text-sm text-on-surface-muted-light dark:text-on-surface-muted-dark">{{ item.artist|default('Artista') }}</p>
                            </div>
                        </div>
                    {% else %}
                        <p class="text-sm text-on-surface-muted-light dark:text-on-surface-muted-dark">No hay novedades por mostrar.</p>
                    {% endfor %}
                </div>
            </section>
            <section class="mt-16">
                <h2 class="text-3xl font-bold tracking-tight">Ofertas destacadas</h2>
                <div class="mt-8 grid grid-cols-2 gap-x-6 gap-y-10 sm:grid-cols-2 lg:grid-cols-4 xl:gap-x-8">
                    {# Bucle para ofertas: reemplaza tarjetas estáticas #}
                    {% for item in ofertas %}
                        <div class="group relative">
                            <div class="aspect-square w-full overflow-hidden rounded-lg bg-surface-light dark:bg-surface-dark group-hover:opacity-75">
                                <img alt="{{ item.title|default('Imagen') }}" class="h-full w-full object-cover object-center" src="{{ item.image is defined ? item.image : asset('img/placeholder.png') }}"/>
                            </div>
                            <div class="mt-4">
                                <h3 class="text-sm font-medium text-on-surface-light dark:text-on-surface-dark">
                                    <a href="{{ item.url|default('#') }}"> <span aria-hidden="true" class="absolute inset-0"></span> {{ item.title|default('Título') }} </a>
                                </h3>
                                <p class="mt-1 text-sm text-on-surface-muted-light dark:text-on-surface-muted-dark">{{ item.artist|default('Artista') }}</p>
                            </div>
                        </div>
                    {% else %}
                        <p class="text-sm text-on-surface-muted-light dark:text-on-surface-muted-dark">No hay ofertas por mostrar.</p>
                    {% endfor %}
                </div>
            </section>
        </div>
    </main>
{% endblock %}
