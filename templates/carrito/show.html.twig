{% extends 'base.html.twig' %}

{% block title %}Viniland - Carrito de Compras{% endblock %}

{% block javascripts %}
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin href="https://fonts.gstatic.com" rel="preconnect" />
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&amp;display=swap" rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              primary: "#cf6329",
              "background-light": "#f8f6f6",
              "background-dark": "#0b0f13",
              "surface-light": "#ffffff",
              "surface-dark": "#1a1f23",
              "subtle-light": "#e5e7eb",
              "subtle-dark": "#374151",
              "text-light": "#0b0f13",
              "text-dark": "#f8f6f6",
              "text-muted-light": "#6b7280",
              "text-muted-dark": "#cca983",
              accent: "#f88913",
            },
            fontFamily: {
              display: ["Space Grotesk", "sans-serif"],
            },
            borderRadius: {
              DEFAULT: "0.5rem",
              lg: "0.75rem",
              full: "9999px",
            },
          },
        },
      };
    </script>
    <style>
      .material-symbols-outlined {
        font-variation-settings: "FILL" 0, "wght" 400, "GRAD" 0, "opsz" 24;
      }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
    <script>document.documentElement.classList.add('dark');</script>
    {{ importmap('app') }}
{% endblock %}

{% block body %}
<main class="flex-grow">
    <div class="mx-auto max-w-4xl px-4 py-8 sm:px-6 sm:py-12 lg:px-8">
        <div class="space-y-8">
            <div>
                <nav aria-label="Breadcrumb">
                    <ol class="flex items-center gap-1.5 text-sm">
                        <li>
                            <a style="color: #e00000;" class="text-text-muted-light transition-colors hover:text-primary dark:text-text-muted-dark dark:hover:text-primary" href="#">Inicio</a>
                        </li>
                        <li><span style="color: #e00000;" class="text-text-muted-light dark:text-text-muted-dark">/</span></li>
                        <li>
                            <span class="font-medium text-text-light dark:text-text-dark">Carrito</span>
                        </li>
                    </ol>
                </nav>
                <h2 class="mt-4 text-3xl font-bold tracking-tight text-text-light dark:text-text-dark sm:text-4xl">Tu Carrito</h2>
            </div>

            <div class="grid grid-cols-1 gap-12 lg:grid-cols-3 lg:items-start">
                <div class="space-y-6 lg:col-span-2">
                    <div class="divide-y divide-subtle-light rounded-lg border border-subtle-light bg-surface-light dark:divide-subtle-dark dark:border-subtle-dark dark:bg-surface-dark">

                        {# Contenedor vacío para la inserción dinámica de los items del carrito. #}
                        <div id="cart-items" class="p-0">
                            {# Los elementos del carrito se inyectarán aquí desde el backend o mediante JS. #}
                        </div>

                    </div>
                </div>
                <div class="space-y-6 lg:col-span-1">
                    <div class="rounded-lg border border-subtle-light bg-surface-light p-6 dark:border-subtle-dark dark:bg-surface-dark">
                        <h3 class="text-lg font-semibold">Resumen del pedido</h3>
                        <div class="mt-4 space-y-3">
                            <div class="flex justify-between">
                                <span style="color: #e00000;" class="text-text-muted-light dark:text-text-muted-dark">Subtotal</span>
                                <span id="cart-subtotal" style="color: #e00000;" class="font-medium text-text-light dark:text-text-dark"><!-- subtotal aquí --></span>
                            </div>
                            <div class="flex justify-between">
                                <span style="color: #e00000;" class="text-text-muted-light dark:text-text-muted-dark">Envío</span>
                                <span id="cart-shipping" style="color: #e00000;" class="font-medium text-accent"><!-- envío aquí --></span>
                            </div>
                            <div class="border-t border-subtle-light pt-3 dark:border-subtle-dark">
                                <div class="flex justify-between text-lg font-bold">
                                    <span class="text-text-light dark:text-text-dark">Total</span>
                                    <span id="cart-total" class="text-primary"><!-- total aquí --></span>
                                </div>
                            </div>
                        </div>
                        <button style="background-color: #e00000;" class="mt-6 w-full rounded-lg px-5 py-3 text-base font-bold text-white shadow-sm transition-transform hover:scale-105 hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-[#e00000] focus:ring-offset-2 focus:ring-offset-background-light dark:focus:ring-offset-background-dark">
                            Proceder al pago
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>
{% endblock %}
